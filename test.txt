-- BY Alya ROB ğŸŒ¸ - Ù†Ø¸Ø§Ù… Silent AIM Ø§Ù„Ø®Ø§Ø±Ù‚ Ù„Ù„ØªØ·ÙˆÙŠØ±
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")

-- 1. Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
local AdvancedConfig = {
    Active = true,
    FOV = 90, -- Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ø±Ø¤ÙŠØ© Ø¨Ø§Ù„Ø¯Ø±Ø¬Ø§Øª
    AutoLock = true,
    TargetPart = "Head", -- Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù
    Prediction = {
        Enabled = true,
        VelocityScale = 0.3,
        PingCompensation = true
    },
    Humanizer = {
        Randomness = 0.02, -- Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ø·Ø¨ÙŠØ¹ÙŠØ©
        Smoothing = 0.7 -- Ø³Ù„Ø§Ø³Ø© Ø§Ù„Ø­Ø±ÙƒØ©
    }
}

-- 2. Ù†Ø¸Ø§Ù… Ø§Ù„ØªØªØ¨Ø¹ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
local TargetSystem = {
    CurrentTarget = nil,
    TargetLock = false,
    LastPosition = nil,
    Velocity = Vector3.new(0, 0, 0)
}

-- 3. Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø£Ù‡Ø¯Ø§Ù (Ù…Ø­Ø¯Ø«Ø©)
local function FindOptimalTarget()
    local bestTarget = nil
    local smallestAngle = math.rad(AdvancedConfig.FOV)
    local cameraPos = Camera.CFrame.Position
    
    for _, player in ipairs(Players:GetPlayers()) do
        if player == LocalPlayer then continue end
        
        local character = player.Character
        if not character then continue end
        
        local humanoid = character:FindFirstChildOfClass("Humanoid")
        if not humanoid or humanoid.Health <= 0 then continue end
        
        local targetPart = character:FindFirstChild(AdvancedConfig.TargetPart)
        if not targetPart then continue end
        
        -- Ø­Ø³Ø§Ø¨ Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø¨Ø¯Ù‚Ø© Ø¹Ø§Ù„ÙŠØ©
        local direction = (targetPart.Position - cameraPos).Unit
        local angle = math.acos(Camera.CFrame.LookVector:Dot(direction))
        
        if angle < smallestAngle then
            -- Ø­Ø³Ø§Ø¨ Ø§Ù„Ø³Ø±Ø¹Ø© Ù„Ù„ØªÙ†Ø¨Ø¤
            local velocity = Vector3.new(0, 0, 0)
            if TargetSystem.LastPosition then
                velocity = (targetPart.Position - TargetSystem.LastPosition) / RunService.Heartbeat:Wait()
            end
            
            smallestAngle = angle
            bestTarget = {
                Player = player,
                Part = targetPart,
                Position = targetPart.Position,
                Velocity = velocity
            }
        end
    end
    
    return bestTarget
end

-- 4. Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© Ø§Ù„ØªÙ†Ø¨Ø¤ Ø§Ù„Ù…Ø­Ø³Ù†Ø©
local function CalculatePrecisePrediction(target)
    if not AdvancedConfig.Prediction.Enabled then
        return target.Position
    end
    
    local predictedPosition = target.Position
    
    -- Ø­Ø³Ø§Ø¨ ØªØ£Ø«ÙŠØ± Ø§Ù„Ø³Ø±Ø¹Ø©
    predictedPosition = predictedPosition + (target.Velocity * AdvancedConfig.Prediction.VelocityScale)
    
    -- ØªØ¹ÙˆÙŠØ¶ Ping Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙØ¹Ù„Ø§Ù‹
    if AdvancedConfig.Prediction.PingCompensation then
        local ping = game:GetService("Stats").Network.ServerStatsItem["Data Ping"]:GetValue()
        predictedPosition = predictedPosition + (target.Velocity * (ping/2000))
    end
    
    return predictedPosition
end

-- 5. Ù†Ø¸Ø§Ù… Ø§Ù„ØªØµÙˆÙŠØ¨ Ø§Ù„Ø®Ø§Ø±Ù‚ (Ù…Ø­Ø¯Ø«)
function GetPerfectAimDirection(origin)
    if not AdvancedConfig.Active then
        return Camera.CFrame.LookVector
    end
    
    -- Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø£Ù…Ø«Ù„
    TargetSystem.CurrentTarget = FindOptimalTarget()
    
    if not TargetSystem.CurrentTarget then
        return Camera.CFrame.LookVector
    end
    
    -- Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ù‚ÙŠÙ‚ Ù…Ø¹ Ø§Ù„ØªÙ†Ø¨Ø¤
    local precisePosition = CalculatePrecisePrediction(TargetSystem.CurrentTarget)
    
    -- ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ø§Ù„Ø¨Ø´Ø±ÙŠØ©
    if AdvancedConfig.Humanizer.Randomness > 0 then
        local offset = Vector3.new(
            (math.random() * 2 - 1) * AdvancedConfig.Humanizer.Randomness,
            (math.random() * 2 - 1) * AdvancedConfig.Humanizer.Randomness,
            (math.random() * 2 - 1) * AdvancedConfig.Humanizer.Randomness
        )
        precisePosition = precisePosition + offset
    end
    
    -- Ø­Ø³Ø§Ø¨ Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø¯Ù‚ÙŠÙ‚
    local perfectDirection = (precisePosition - origin).Unit
    
    -- ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³Ù„Ø§Ø³Ø©
    if AdvancedConfig.Humanizer.Smoothing > 0 then
        perfectDirection = Camera.CFrame.LookVector:Lerp(perfectDirection, AdvancedConfig.Humanizer.Smoothing)
    end
    
    return perfectDirection
end

-- 6. Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø© (Ù„Ù„ØªØ·ÙˆÙŠØ± ÙÙ‚Ø·)
local function SimulateBullet(origin)
    local direction = GetPerfectAimDirection(origin)
    local raycastParams = RaycastParams.new()
    raycastParams.FilterDescendantsInstances = {LocalPlayer.Character}
    raycastParams.FilterType = Enum.RaycastFilterType.Blacklist
    
    local raycastResult = workspace:Raycast(origin, direction * 1000, raycastParams)
    if raycastResult then
        -- ÙƒÙˆØ¯ ØªØ£Ø«ÙŠØ± Ø§Ù„Ø±ØµØ§ØµØ© Ù‡Ù†Ø§
        print("ğŸ¯ Ø£ØµØ¨Øª Ø§Ù„Ù‡Ø¯Ù Ø¨Ø¯Ù‚Ø© Ø¹Ø§Ù„ÙŠØ©!")
    end
end

-- 7. Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… (Ù„Ù„ØªØ·ÙˆÙŠØ±)
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if input.KeyCode == Enum.KeyCode.E then
        local character = LocalPlayer.Character
        if character then
            local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
            if humanoidRootPart then
                SimulateBullet(humanoidRootPart.Position)
            end
        end
    end
end)

-- 8. Ù†Ø¸Ø§Ù… Ø§Ù„Ø±Ø¤ÙŠØ© (FOV Circle)
local FOVCircle = Drawing.new("Circle")
FOVCircle.Visible = true
FOVCircle.Color = Color3.new(1, 0, 0)
FOVCircle.Thickness = 1
FOVCircle.NumSides = 64
FOVCircle.Filled = false

RunService.RenderStepped:Connect(function()
    FOVCircle.Radius = AdvancedConfig.FOV * 3
    FOVCircle.Position = Vector2.new(Camera.ViewportSize.X/2, Camera.ViewportSize.Y/2)
    FOVCircle.Visible = AdvancedConfig.Active
end)

print("ğŸ”¥ ØªÙ… ØªØ­Ù…ÙŠÙ„ Ù†Ø¸Ø§Ù… AIM Ø§Ù„Ø®Ø§Ø±Ù‚ Ø¨Ù†Ø¬Ø§Ø­!")
print("ğŸ¯ Ø§Ø¶ØºØ· E Ù„Ù…Ø­Ø§ÙƒØ§Ø© Ø¥Ø·Ù„Ø§Ù‚ Ø§Ù„Ù†Ø§Ø±")
